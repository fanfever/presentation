# 2019: Year in Review & Look Ahead

张帆

---

# 团队建设

弥补企业人力资源的不足

## 招聘

### GOAL

50人

### DONE

共面试 1011 人，通过初试 187 人，入职 27 人，高级工程师 8 人，初试通过率 18.5%，入职率 14.4%

### REVIEW

初试筛选某些时候过于严格，由于个别月份面试频率过大，导致面试没有细粒度，全方位的考量每一个应试者，流失了一部分人才

* Rethink

参与了其他面试官的应试环节，一起探讨交流，多元化的面试每一个人

##### 旁白

比如过于重视沟通表达能力，，基础知识流程工具等方面；没有从应试者的角色和位置出发，找出应试者在实际的工作环境中作出的贡献和解决的问题

在面试的过程中，我也不断的总结反思，参与了王雷等其他面试官的面试，尝试从其他角度进行考量，多元化的面试每一个应聘者

## 培训

通过技能、思想、价值观等各方面的培训、考核，以及竞争和评估

### GOAL

对新员工有较详尽的指引流程，能够快速熟悉现有流程，架构，编码风格趋于统一

### DONE

新手入门，多租户架构规范，开发流程及 VCS 流程，开发规范及编程规约，Code Review 规范

### REVIEW

没有完善的流程，自动化地进行跟踪、监控、反馈等机制，工具很多，但是都没有落地

* Rethink

没有很好的推动现有的工具，策略，以点及面，先从关键路径做起

##### 旁白

比如现有的租户白名单审核机制及周报，sonar 代码质量分析及周报，推动进展缓慢，执行力不强

# 稳定性

参与协助解决记录在案故障数 11 个
SG 2, KM 6, CRM 3
主要分为 热点操作频率过高，代码不当引发的内存泄漏，数据库大查询及锁，资源调整，发版回滚耗时过长，云服务器资源问题

### GOAL

建立完善的监控及流程化工具，预防，减少故障数量，快速定位问题，减少客户感知时间

### DONE

* 性能

文本机器人应用层水平扩展

文本机器人 ElasticSearch 磁盘扩容及存储优化方案上线

* 安全

重定义租户隔离方案，基于底层插件机制过滤器改进，优化性能，支持多种查询语句（新产品已经投入使用）

收敛租户隔离机制优先级高的 SQL（云电销，文本机器人）

* 监控

增加底层通用方法，方便新业务各个项目增加慢接口、数据库结果集过多&过滤的监控项

* 故障定位

服务器 Java 进程飙高自动监控通知可疑操作提醒

* 容灾

Nginx & Tengine health check 组件重编译，主动健康检查负载策略上线

Ali SLB 负载策略应用上线及调整

服务器单点编译、发布、重启、回滚、问题定位脚本发布及上线使用

# 架构

统一技术栈，方便业务线处理共性问题

### DONE

新业务 ElasticSearch 版本公司统一，监控对接 Prometheus

Java 公共组件、脚手架部分模块重新编写与扩展（异常机制、日志处理、SDK 多版本兼容、多持久化共存、数据库索引迁移等），三方 SDK 升级

分布式调度选型&上线

参与部分项目技术方案讨论，私有平台技术栈兼容性评估

##### 旁白

范总抱怨私有化由于 ES 版本不统一，导致需要 N 台服务器，增加了客户及实施的成本
公共组件脚手架的编写与扩展主要是为了带来更快的性能与更优雅的编码体验
分布式调度主要为解决现有业务线中定时任务无监控，串型化（比如spring batch)，分布式执行等痛点问题

### REVIEW

技术预览中选择面过广，本想面面俱到，但实际耗费了很多应避免的时间

基础包的修改及各个中间件及解决方案推动进展缓慢，执行力不强

* Rethink

技术预言应紧抓现有较成熟的解决方案，可以不是很新，对过于超前的组件选型应谨慎

以 feature 的方式推动各个产品线升级，同时建立跟踪机制

# 开发

### 云电销
上传下载中心，自动外呼触发器，异步任务，微信小程序

### 客服系统
附件预览私有化及多持久化支持，代号 “鲲鹏” 新呼叫中心开发

### 中台
CallCenter PaaS RCP 中间件，CallCenter PaaS APP 后台应用开发

# 展望

* 新呼叫中心 架构及应用完善，稳定性能够达到甚至超越现有麒麟项目水准

* 解决业务整体通用型的问题（如监控，熔断，缓存等），能够深入各业务系统探讨学习技术方案及解决痛点问题

* 做好万金油的角色

